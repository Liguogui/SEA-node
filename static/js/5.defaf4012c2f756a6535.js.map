{"version":3,"sources":["webpack:///static/js/5.defaf4012c2f756a6535.js","webpack:///./src/pages/singer/singer.vue","webpack:///./src/api/singer.js?4a09","webpack:///./src/base/listview/listview.vue?b6b7","webpack:///./src/pages/singer/singer.vue?50c4","webpack:///./src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?b16f","webpack:///./src/pages/singer/singer.vue?2204","webpack:///./src/base/listview/listview.vue?c095","webpack:///./src/pages/singer/singer.vue?64d0","webpack:///listview.vue","webpack:///singer.vue"],"names":["webpackJsonp","569","module","exports","__webpack_require__","Component","579","__webpack_exports__","getSingerList","data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","channel","page","key","pagesize","pagenum","loginUin","hostUin","platform","needNewCode","i","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","getSingerDetail","singerMid","singermid","order","begin","num","songstatus","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","n","580","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","581","593","598","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","listenScroll","on","scroll","handleScroll","_l","group","refInFor","_v","_s","title","item","mid","click","$event","selectItem","directives","name","rawName","value","expression","touchstart","stopPropagation","preventDefault","onShortcutTouchStart","touchmove","onShortcutTouchMove","touchend","onShortcutTouchEnd","index","class","current","currentIndex","data-index","fixedTitle","length","staticRenderFns","599","singers","selectSinger","611","content","locals","612","624","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__","__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll___default","__WEBPACK_IMPORTED_MODULE_1_base_loading_loading__","__WEBPACK_IMPORTED_MODULE_1_base_loading_loading___default","__WEBPACK_IMPORTED_MODULE_2_common_js_dom__","props","type","Array","default","created","touch","listHeight","scrollY","diff","computed","shortcutList","map","substr","components","Scroll","a","Loading","methods","$emit","e","initiated","anchorIndex","target","firstTouch","touches","y1","pageY","_scrollTo","y2","delta","Math","floor","parseInt","pos","y","refresh","$refs","listview","scrollToElement","listGroup","_calculateHeight","list","height","clientHeight","watch","_this","setTimeout","newY","height1","height2","newVal","fixedTop","fixed","style","transform","635","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_common_js_singer__","__WEBPACK_IMPORTED_MODULE_2_base_listview_listview__","__WEBPACK_IMPORTED_MODULE_2_base_listview_listview___default","__WEBPACK_IMPORTED_MODULE_3_api_singer__","__WEBPACK_IMPORTED_MODULE_4_api_config__","__WEBPACK_IMPORTED_MODULE_5_vuex__","__WEBPACK_IMPORTED_MODULE_6_common_js_mixins__","mixins","ListView","_getSingerList","handlePlayList","playList","bottom","singer","$router","path","setSinger","then","res","code","_nomalizeSinger","hot","items","forEach","Fsinger_mid","Fsinger_name","Findex","ret","re","val","match","sort","b","charCodeAt","concat"],"mappings":"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","file":"static/js/5.defaf4012c2f756a6535.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 569:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(612)\n\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(635),\n  /* template */\n  __webpack_require__(599),\n  /* scopeId */\n  \"data-v-138751b1\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 579:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getSingerList;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getSingerDetail;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config__ = __webpack_require__(56);\n\n\n\n\nfunction getSingerList() {\n  var url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg';\n\n  var data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_2__config__[\"b\" /* commonParams */], {\n    channel: 'singer',\n    page: 'list',\n    key: 'all_all_all',\n    pagesize: 100,\n    pagenum: 1,\n    loginUin: 0,\n    hostUin: 0,\n    platform: 'yqq',\n    needNewCode: 0\n  });\n\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config__[\"c\" /* options */]);\n}\n\nfunction getSingerDetail(singerMid) {\n  var url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg';\n\n  var data = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_2__config__[\"b\" /* commonParams */], {\n    loginUin: 0,\n    hostUin: 0,\n    platform: 'yqq',\n    needNewCode: 0,\n    singermid: singerMid,\n    order: 'listen',\n    begin: 0,\n    num: 100,\n    songstatus: 1\n  });\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__[\"a\" /* default */])(url, data, __WEBPACK_IMPORTED_MODULE_2__config__[\"c\" /* options */]);\n}\n\n/***/ }),\n\n/***/ 580:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(561)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".listview[data-v-046b9814]{position:relative;width:100%;height:100%;overflow:hidden;background:#222}.listview .list-group[data-v-046b9814]{padding-bottom:30px}.listview .list-group .list-group-title[data-v-046b9814]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .list-group .list-group-item[data-v-046b9814]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:20px 0 0 30px}.listview .list-group .list-group-item .avatar[data-v-046b9814]{width:50px;height:50px;border-radius:50%}.listview .list-group .list-group-item .name[data-v-046b9814]{margin-left:20px;color:hsla(0,0%,100%,.5);font-size:14px}.listview .list-shortcut[data-v-046b9814]{position:absolute;z-index:30;right:0;top:50%;transform:translateY(-50%);width:20px;padding:20px 0;border-radius:10px;text-align:center;background:rgba(0,0,0,.3);font-family:Helvetica}.listview .list-shortcut .item[data-v-046b9814]{padding:3px;line-height:1;color:hsla(0,0%,100%,.5);font-size:12px}.listview .list-shortcut .item.current[data-v-046b9814]{color:#ffcd32}.listview .list-fixed[data-v-046b9814]{position:absolute;top:0;left:0;width:100%}.listview .list-fixed .fixed-title[data-v-046b9814]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .loading-container[data-v-046b9814]{position:absolute;width:100%;top:50%;transform:translateY(-50%)}\", \"\", {\"version\":3,\"sources\":[\"E:/music/music/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CAClB,AACD,uCACE,mBAAqB,CACtB,AACD,yDACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA6B,AAC7B,eAAiB,CAClB,AACD,wDACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAuB,CACxB,AACD,gEACE,WAAY,AACZ,YAAa,AACb,iBAAmB,CACpB,AACD,8DACE,iBAAkB,AAClB,yBAA6B,AAC7B,cAAgB,CACjB,AACD,0CACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,QAAS,AACT,2BAA4B,AAC5B,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,0BAA4B,AAC5B,qBAAuB,CACxB,AACD,gDACE,YAAa,AACb,cAAe,AACf,yBAA6B,AAC7B,cAAgB,CACjB,AACD,wDACE,aAAe,CAChB,AACD,uCACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,UAAY,CACb,AACD,oDACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA6B,AAC7B,eAAiB,CAClB,AACD,8CACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,0BAA4B,CAC7B\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview[data-v-046b9814] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list-group[data-v-046b9814] {\\n  padding-bottom: 30px;\\n}\\n.listview .list-group .list-group-title[data-v-046b9814] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .list-group .list-group-item[data-v-046b9814] {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  padding: 20px 0 0 30px;\\n}\\n.listview .list-group .list-group-item .avatar[data-v-046b9814] {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n.listview .list-group .list-group-item .name[data-v-046b9814] {\\n  margin-left: 20px;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 14px;\\n}\\n.listview .list-shortcut[data-v-046b9814] {\\n  position: absolute;\\n  z-index: 30;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(0,0,0,0.3);\\n  font-family: Helvetica;\\n}\\n.listview .list-shortcut .item[data-v-046b9814] {\\n  padding: 3px;\\n  line-height: 1;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n}\\n.listview .list-shortcut .item.current[data-v-046b9814] {\\n  color: #ffcd32;\\n}\\n.listview .list-fixed[data-v-046b9814] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n.listview .list-fixed .fixed-title[data-v-046b9814] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .loading-container[data-v-046b9814] {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 581:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(561)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".singer[data-v-138751b1]{position:fixed;top:88px;bottom:0;left:0;right:0}\", \"\", {\"version\":3,\"sources\":[\"E:/music/music/src/pages/singer/singer.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,OAAQ,AACR,OAAS,CACV\",\"file\":\"singer.vue\",\"sourcesContent\":[\"\\n.singer[data-v-138751b1] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 593:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(611)\n\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(624),\n  /* template */\n  __webpack_require__(598),\n  /* scopeId */\n  \"data-v-046b9814\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('scroll', {\n    ref: \"listview\",\n    staticClass: \"listview\",\n    attrs: {\n      \"data\": _vm.data,\n      \"listenScroll\": _vm.listenScroll\n    },\n    on: {\n      \"scroll\": _vm.handleScroll\n    }\n  }, [_c('ul', _vm._l((_vm.data), function(group) {\n    return _c('li', {\n      ref: \"listGroup\",\n      refInFor: true,\n      staticClass: \"list-group\"\n    }, [_c('h2', {\n      staticClass: \"list-group-title\"\n    }, [_vm._v(_vm._s(group.title))]), _vm._v(\" \"), _c('ul', _vm._l((group.items), function(item) {\n      return _c('li', {\n        key: item.mid,\n        staticClass: \"list-group-item\",\n        on: {\n          \"click\": function($event) {\n            _vm.selectItem(item)\n          }\n        }\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.imgUrl),\n          expression: \"item.imgUrl\"\n        }],\n        staticClass: \"avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(item.name))])])\n    }))])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-shortcut\",\n    on: {\n      \"touchstart\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.onShortcutTouchStart($event)\n      },\n      \"touchmove\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.onShortcutTouchMove($event)\n      },\n      \"touchend\": _vm.onShortcutTouchEnd\n    }\n  }, [_c('ul', _vm._l((_vm.shortcutList), function(item, index) {\n    return _c('li', {\n      staticClass: \"item\",\n      class: {\n        'current': _vm.currentIndex === index\n      },\n      attrs: {\n        \"data-index\": index\n      }\n    }, [_vm._v(\"\\n         \" + _vm._s(item) + \"\\n      \")])\n  }))]), _vm._v(\" \"), _c('div', {\n    ref: \"fixed\",\n    staticClass: \"list-fixed\"\n  }, [_c('h1', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.fixedTitle),\n      expression: \"fixedTitle\"\n    }],\n    staticClass: \"fixed-title\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.fixedTitle) + \"\\n    \")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.data.length),\n      expression: \"!data.length\"\n    }],\n    staticClass: \"loading-container\"\n  }, [_c('loading')], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 599:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"singer\",\n    staticClass: \"singer\"\n  }, [_c('list-view', {\n    ref: \"list\",\n    attrs: {\n      \"data\": _vm.singers\n    },\n    on: {\n      \"selectItem\": _vm.selectSinger\n    }\n  }), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 611:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(580);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(562)(\"32592efd\", content, true);\n\n/***/ }),\n\n/***/ 612:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(581);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(562)(\"9229546c\", content, true);\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_loading_loading__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_base_loading_loading___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_base_loading_loading__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_common_js_dom__ = __webpack_require__(127);\n\n\n\n\n\n\nvar ANCHOR_HEIGHT = 18;\nvar TITLE_HEIGHT = 30;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    data: {\n      type: Array,\n      default: []\n    }\n  },\n  created: function created() {\n    this.touch = {};\n    this.listenScroll = true;\n    this.listHeight = [];\n  },\n  data: function data() {\n    return {\n      scrollY: -1,\n      currentIndex: 0,\n      diff: -1 };\n  },\n\n  computed: {\n    shortcutList: function shortcutList() {\n      return this.data.map(function (group) {\n        return group.title.substr(0, 1);\n      });\n    },\n    fixedTitle: function fixedTitle() {\n      if (this.scrollY > 0) {\n        return '';\n      }\n      return this.data[this.currentIndex] ? this.data[this.currentIndex].title : '';\n    }\n  },\n  components: {\n    Scroll: __WEBPACK_IMPORTED_MODULE_0_base_scroll_scroll___default.a,\n    Loading: __WEBPACK_IMPORTED_MODULE_1_base_loading_loading___default.a\n  },\n  methods: {\n    selectItem: function selectItem(item) {\n      this.$emit('selectItem', item);\n    },\n    onShortcutTouchStart: function onShortcutTouchStart(e) {\n      this.touch.initiated = true;\n\n      var anchorIndex = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_common_js_dom__[\"b\" /* getData */])(e.target, 'index');\n\n      var firstTouch = e.touches[0];\n      this.touch.y1 = firstTouch.pageY;\n      this.touch.anchorIndex = anchorIndex;\n\n      this._scrollTo(anchorIndex);\n    },\n    onShortcutTouchMove: function onShortcutTouchMove(e) {\n      if (!this.touch.initiated) {\n        return;\n      }\n\n      var firstTouch = e.touches[0];\n      this.touch.y2 = firstTouch.pageY;\n      var delta = Math.floor((this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT);\n\n      var anchorIndex = parseInt(this.touch.anchorIndex) + delta;\n      this._scrollTo(anchorIndex);\n    },\n    onShortcutTouchEnd: function onShortcutTouchEnd(e) {\n      this.touch.initiated = false;\n    },\n    handleScroll: function handleScroll(pos) {\n      this.scrollY = pos.y;\n    },\n    refresh: function refresh() {\n      this.$refs.listview.refresh();\n    },\n    _scrollTo: function _scrollTo(index) {\n      if (!index && index !== 0) {\n        return;\n      }\n      if (index < 0) {\n        index = 0;\n      } else if (index > this.listHeight.length - 2) {\n        index = this.listHeight.length - 2;\n      }\n\n      this.scrollY = -this.listHeight[index];\n      this.$refs.listview.scrollToElement(this.$refs.listGroup[index]);\n    },\n    _calculateHeight: function _calculateHeight() {\n      this.listHeight = [];\n      var list = this.$refs.listGroup;\n      var height = 0;\n      this.listHeight.push(height);\n      for (var i = 0; i < list.length; i++) {\n        var item = list[i];\n        height += item.clientHeight;\n        this.listHeight.push(height);\n      }\n    }\n  },\n\n  watch: {\n    data: function data() {\n      var _this = this;\n\n      setTimeout(function () {\n        _this._calculateHeight();\n      }, 20);\n    },\n    scrollY: function scrollY(newY) {\n      var listHeight = this.listHeight;\n\n      if (newY > 0) {\n        this.currentIndex = 0;\n        return;\n      }\n\n      for (var i = 0; i < listHeight.length - 1; i++) {\n        var height1 = listHeight[i];\n        var height2 = listHeight[i + 1];\n\n        if (-newY >= height1 && -newY < height2) {\n          this.currentIndex = i;\n\n          this.diff = height2 + newY;\n          return;\n        }\n      }\n\n      this.currentIndex = listHeight.length - 2;\n    },\n    diff: function diff(newVal) {\n      var fixedTop = newVal > 0 && newVal < TITLE_HEIGHT ? newVal - TITLE_HEIGHT : 0;\n\n      if (this.fixedTop === fixedTop) {\n        return;\n      }\n      this.fixedTop = fixedTop;\n      this.$refs.fixed.style.transform = 'translate3d(0,' + fixedTop + 'px,0)';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 635:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_common_js_singer__ = __webpack_require__(210);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_base_listview_listview__ = __webpack_require__(593);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_base_listview_listview___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_base_listview_listview__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_api_singer__ = __webpack_require__(579);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_api_config__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_common_js_mixins__ = __webpack_require__(88);\n\n\n\n\n\n\n\n\n\n\nvar HOT_NAME = '热门';\nvar HOT_SINGER_LEN = 10;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_6_common_js_mixins__[\"c\" /* playListMixin */]],\n  data: function data() {\n    return {\n      singers: []\n    };\n  },\n\n  components: {\n    ListView: __WEBPACK_IMPORTED_MODULE_2_base_listview_listview___default.a\n  },\n  created: function created() {\n    this._getSingerList();\n  },\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n    handlePlayList: function handlePlayList(playList) {\n      var bottom = playList.length > 0 ? '60px' : '';\n      this.$refs.singer.style.bottom = bottom;\n      this.$refs.list.refresh();\n    },\n    selectSinger: function selectSinger(singer) {\n      this.$router.push({\n        path: '/singer/' + singer.mid\n      });\n      this.setSinger(singer);\n    },\n    _getSingerList: function _getSingerList() {\n      var _this = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_api_singer__[\"b\" /* getSingerList */])().then(function (res) {\n        if (res.code === __WEBPACK_IMPORTED_MODULE_4_api_config__[\"a\" /* ERR_OK */]) {\n          _this.singers = _this._nomalizeSinger(res.data.list);\n        }\n      });\n    },\n    _nomalizeSinger: function _nomalizeSinger(list) {\n      var map = {\n        hot: {\n          title: HOT_NAME,\n          items: []\n        }\n      };\n      list.forEach(function (item, index) {\n        if (index < HOT_SINGER_LEN) {\n          map.hot.items.push(new __WEBPACK_IMPORTED_MODULE_1_common_js_singer__[\"a\" /* default */]({\n            mid: item.Fsinger_mid,\n            name: item.Fsinger_name\n          }));\n        }\n        var key = item.Findex;\n        if (!map[key]) {\n          map[key] = {\n            title: key,\n            items: []\n          };\n        }\n        map[key].items.push(new __WEBPACK_IMPORTED_MODULE_1_common_js_singer__[\"a\" /* default */]({\n          mid: item.Fsinger_mid,\n          name: item.Fsinger_name\n        }));\n      });\n\n      var hot = [];\n      var ret = [];\n      var re = /[a-zA-Z]/g;\n      for (var i in map) {\n        var val = map[i];\n        if (val.title.match(re)) {\n          ret.push(val);\n        } else if (val.title === HOT_NAME) {\n          hot.push(val);\n        }\n      }\n\n      ret.sort(function (a, b) {\n        return a.title.charCodeAt(0) - b.title.charCodeAt(0);\n      });\n      return hot.concat(ret);\n    }\n  }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"b\" /* mapMutations */])({\n    setSinger: 'SET_SINGER'\n  }))\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.defaf4012c2f756a6535.js","\n/* styles */\nrequire(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-138751b1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n\nvar Component = require(\"!../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./singer.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-138751b1\\\"}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./singer.vue\"),\n  /* scopeId */\n  \"data-v-138751b1\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/singer/singer.vue\n// module id = 569\n// module chunks = 5","import jsonp from 'common/js/jsonp'\nimport {commonParams,options} from \"./config\"\n\nexport function getSingerList() { //获取歌手列表\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg';// 域名\n\n  const data = Object.assign({},commonParams,{\n    channel:'singer',\n    page:'list',\n    key:'all_all_all',\n    pagesize:100,\n    pagenum:1,\n    loginUin:0,\n    hostUin:0,\n    platform:'yqq',\n    needNewCode:0\n  });\n  //console.log(data); //data是除了回调函数名(jsonpCallback)之外的所有的参数集合\n  // data:{format:\"jsonp\",g_tk:5381,inCharset:\"utf-8\",needNewCode:1,notice:0,outCharset:\"utf-8\",platform:\"h5\",uin:0}\n  return jsonp(url,data,options);\n}\n\nexport function getSingerDetail(singerMid) { //获取相应歌手的音乐\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg';// 域名\n\n  const data = Object.assign({},commonParams,{\n    loginUin:0,\n    hostUin:0,\n    platform:'yqq',\n    needNewCode:0,\n    singermid:singerMid,\n    order:'listen',\n    begin:0,\n    num:100,\n    songstatus:1\n  });\n  return jsonp(url,data,options);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","exports = module.exports = require(\"../../../node_modules/.0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".listview[data-v-046b9814]{position:relative;width:100%;height:100%;overflow:hidden;background:#222}.listview .list-group[data-v-046b9814]{padding-bottom:30px}.listview .list-group .list-group-title[data-v-046b9814]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .list-group .list-group-item[data-v-046b9814]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:20px 0 0 30px}.listview .list-group .list-group-item .avatar[data-v-046b9814]{width:50px;height:50px;border-radius:50%}.listview .list-group .list-group-item .name[data-v-046b9814]{margin-left:20px;color:hsla(0,0%,100%,.5);font-size:14px}.listview .list-shortcut[data-v-046b9814]{position:absolute;z-index:30;right:0;top:50%;transform:translateY(-50%);width:20px;padding:20px 0;border-radius:10px;text-align:center;background:rgba(0,0,0,.3);font-family:Helvetica}.listview .list-shortcut .item[data-v-046b9814]{padding:3px;line-height:1;color:hsla(0,0%,100%,.5);font-size:12px}.listview .list-shortcut .item.current[data-v-046b9814]{color:#ffcd32}.listview .list-fixed[data-v-046b9814]{position:absolute;top:0;left:0;width:100%}.listview .list-fixed .fixed-title[data-v-046b9814]{height:30px;line-height:30px;padding-left:20px;font-size:12px;color:hsla(0,0%,100%,.5);background:#333}.listview .loading-container[data-v-046b9814]{position:absolute;width:100%;top:50%;transform:translateY(-50%)}\", \"\", {\"version\":3,\"sources\":[\"E:/music/music/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAiB,CAClB,AACD,uCACE,mBAAqB,CACtB,AACD,yDACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA6B,AAC7B,eAAiB,CAClB,AACD,wDACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,mBAAoB,AACxB,qBAAuB,CACxB,AACD,gEACE,WAAY,AACZ,YAAa,AACb,iBAAmB,CACpB,AACD,8DACE,iBAAkB,AAClB,yBAA6B,AAC7B,cAAgB,CACjB,AACD,0CACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,QAAS,AACT,2BAA4B,AAC5B,WAAY,AACZ,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,0BAA4B,AAC5B,qBAAuB,CACxB,AACD,gDACE,YAAa,AACb,cAAe,AACf,yBAA6B,AAC7B,cAAgB,CACjB,AACD,wDACE,aAAe,CAChB,AACD,uCACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,UAAY,CACb,AACD,oDACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA6B,AAC7B,eAAiB,CAClB,AACD,8CACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,0BAA4B,CAC7B\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview[data-v-046b9814] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list-group[data-v-046b9814] {\\n  padding-bottom: 30px;\\n}\\n.listview .list-group .list-group-title[data-v-046b9814] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .list-group .list-group-item[data-v-046b9814] {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  padding: 20px 0 0 30px;\\n}\\n.listview .list-group .list-group-item .avatar[data-v-046b9814] {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n.listview .list-group .list-group-item .name[data-v-046b9814] {\\n  margin-left: 20px;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 14px;\\n}\\n.listview .list-shortcut[data-v-046b9814] {\\n  position: absolute;\\n  z-index: 30;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(0,0,0,0.3);\\n  font-family: Helvetica;\\n}\\n.listview .list-shortcut .item[data-v-046b9814] {\\n  padding: 3px;\\n  line-height: 1;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n}\\n.listview .list-shortcut .item.current[data-v-046b9814] {\\n  color: #ffcd32;\\n}\\n.listview .list-fixed[data-v-046b9814] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n.listview .list-fixed .fixed-title[data-v-046b9814] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .loading-container[data-v-046b9814] {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-046b9814\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = 580\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/.0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".singer[data-v-138751b1]{position:fixed;top:88px;bottom:0;left:0;right:0}\", \"\", {\"version\":3,\"sources\":[\"E:/music/music/src/pages/singer/singer.vue\"],\"names\":[],\"mappings\":\"AACA,yBACE,eAAgB,AAChB,SAAU,AACV,SAAU,AACV,OAAQ,AACR,OAAS,CACV\",\"file\":\"singer.vue\",\"sourcesContent\":[\"\\n.singer[data-v-138751b1] {\\n  position: fixed;\\n  top: 88px;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-138751b1\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/singer/singer.vue\n// module id = 581\n// module chunks = 5","\n/* styles */\nrequire(\"!!../../../node_modules/.2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-046b9814\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n\nvar Component = require(\"!../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./listview.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-046b9814\\\"}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./listview.vue\"),\n  /* scopeId */\n  \"data-v-046b9814\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview/listview.vue\n// module id = 593\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('scroll', {\n    ref: \"listview\",\n    staticClass: \"listview\",\n    attrs: {\n      \"data\": _vm.data,\n      \"listenScroll\": _vm.listenScroll\n    },\n    on: {\n      \"scroll\": _vm.handleScroll\n    }\n  }, [_c('ul', _vm._l((_vm.data), function(group) {\n    return _c('li', {\n      ref: \"listGroup\",\n      refInFor: true,\n      staticClass: \"list-group\"\n    }, [_c('h2', {\n      staticClass: \"list-group-title\"\n    }, [_vm._v(_vm._s(group.title))]), _vm._v(\" \"), _c('ul', _vm._l((group.items), function(item) {\n      return _c('li', {\n        key: item.mid,\n        staticClass: \"list-group-item\",\n        on: {\n          \"click\": function($event) {\n            _vm.selectItem(item)\n          }\n        }\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.imgUrl),\n          expression: \"item.imgUrl\"\n        }],\n        staticClass: \"avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(item.name))])])\n    }))])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-shortcut\",\n    on: {\n      \"touchstart\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.onShortcutTouchStart($event)\n      },\n      \"touchmove\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.onShortcutTouchMove($event)\n      },\n      \"touchend\": _vm.onShortcutTouchEnd\n    }\n  }, [_c('ul', _vm._l((_vm.shortcutList), function(item, index) {\n    return _c('li', {\n      staticClass: \"item\",\n      class: {\n        'current': _vm.currentIndex === index\n      },\n      attrs: {\n        \"data-index\": index\n      }\n    }, [_vm._v(\"\\n         \" + _vm._s(item) + \"\\n      \")])\n  }))]), _vm._v(\" \"), _c('div', {\n    ref: \"fixed\",\n    staticClass: \"list-fixed\"\n  }, [_c('h1', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.fixedTitle),\n      expression: \"fixedTitle\"\n    }],\n    staticClass: \"fixed-title\"\n  }, [_vm._v(\"\\n      \" + _vm._s(_vm.fixedTitle) + \"\\n    \")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.data.length),\n      expression: \"!data.length\"\n    }],\n    staticClass: \"loading-container\"\n  }, [_c('loading')], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-046b9814\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/base/listview/listview.vue\n// module id = 598\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"singer\",\n    staticClass: \"singer\"\n  }, [_c('list-view', {\n    ref: \"list\",\n    attrs: {\n      \"data\": _vm.singers\n    },\n    on: {\n      \"selectItem\": _vm.selectSinger\n    }\n  }), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-138751b1\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/pages/singer/singer.vue\n// module id = 599\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-046b9814\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.2.5.1@stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./listview.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"32592efd\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.2.0.5@vue-style-loader!./~/.0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-046b9814\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = 611\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-138751b1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.2.5.1@stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./singer.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"9229546c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.2.0.5@vue-style-loader!./~/.0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-138751b1\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.2.5.1@stylus-loader?{\"sourceMap\":true}!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/singer/singer.vue\n// module id = 612\n// module chunks = 5","<template>\n   <scroll class=\"listview\"\n           :data='data'\n           ref=\"listview\"\n           :listenScroll=\"listenScroll\"\n           @scroll=\"handleScroll\"\n   >\n     <ul>\n       <!--字母标题和相应列表-->\n       <li class=\"list-group\" v-for=\"group of data\" ref=\"listGroup\">\n          <h2 class=\"list-group-title\">{{group.title}}</h2>\n          <ul>\n            <li  v-for=\"item of group.items\"\n                 class=\"list-group-item\"\n                 :key=\"item.mid\"\n                 @click=\"selectItem(item)\"\n            >\n                <img v-lazy=\"item.imgUrl\" class=\"avatar\"/>\n                <span class=\"name\">{{item.name}}</span>\n            </li>\n          </ul>\n       </li>\n     </ul>\n      <!--字母表-->\n     <div class=\"list-shortcut\"\n          @touchstart.stop.prevent=\"onShortcutTouchStart\"\n          @touchmove.stop.prevent=\"onShortcutTouchMove\"\n          @touchend= \"onShortcutTouchEnd\"\n     >\n       <ul>\n         <li v-for=\"(item,index) of shortcutList\"\n             class='item'\n             :data-index=\"index\"\n             :class=\"{'current':currentIndex===index}\"\n         >\n            {{item}}\n         </li>\n       </ul>\n     </div>\n\n      <!--滚动固定标题-->\n     <div class=\"list-fixed\" ref=\"fixed\">\n       <h1 class=\"fixed-title\" v-show=\"fixedTitle\">\n         {{fixedTitle}}\n       </h1>\n     </div>\n\n     <div v-show=\"!data.length\" class=\"loading-container\">\n       <loading></loading>\n     </div>\n   </scroll>\n</template>\n\n<script type='text/ecmascript-6'>\n  import Scroll from 'base/scroll/scroll'\n  import Loading from 'base/loading/loading'\n  import {getData} from 'common/js/dom'\n\n  const ANCHOR_HEIGHT = 18; //每个字母的高度\n  const TITLE_HEIGHT = 30; //每个字母标题的高度\n\n    export default{\n      props:{\n        data:{\n          type:Array,\n          default:[]\n        }\n      },\n      created(){\n        this.touch = {};\n        this.listenScroll = true;\n        this.listHeight = [];\n      },\n      data(){\n        return{\n          scrollY:-1, //滚动子页面的滚动距离\n          currentIndex:0, //当前应该高亮第几个 默认0，第一个‘热字高亮’\n          diff:-1  //下限与滚动距离的差，完善滚动固定标题\n        }\n      },\n      computed:{\n        shortcutList(){ //右边的字母表 ['热','A','B'...'Z'] <=27个\n          return this.data.map((group)=>{\n            return group.title.substr(0,1)\n          })\n        },\n        fixedTitle(){ //固定到顶部的标题\n          if(this.scrollY > 0){\n            return ''\n          }\n          return this.data[this.currentIndex] ? this.data[this.currentIndex].title : ''\n        }\n      },\n     components:{\n       Scroll,\n       Loading\n     },\n      methods:{\n        selectItem(item){\n          this.$emit('selectItem',item);\n        },\n        onShortcutTouchStart(e){\n          this.touch.initiated = true;\n          //获取点击第几个字母 比如‘热’0号位, ‘A’一号位\n          let anchorIndex = getData(e.target,'index'); //e.target.getAttribute('data-index')\n\n          let firstTouch = e.touches[0];\n          this.touch.y1 = firstTouch.pageY;\n          this.touch.anchorIndex = anchorIndex;\n\n          this._scrollTo(anchorIndex);  //让better-scroll滚动到相应位置\n        },\n        onShortcutTouchMove(e){\n          if(!this.touch.initiated){\n            return\n          }\n          //利用点击位置和滑动位置的距离，除以单个字母的大小,算出向上向下移动了多少个字母\n          //再用当前点击的字母位置加上此值，得出新的字母位置\n          let firstTouch = e.touches[0];\n          this.touch.y2 = firstTouch.pageY;\n          let delta = Math.floor((this.touch.y2 - this.touch.y1)/ANCHOR_HEIGHT);\n          //console.log(delta);//1,2,3,-1,-2,-3\n          let anchorIndex = parseInt(this.touch.anchorIndex) + delta;\n          this._scrollTo(anchorIndex)\n        },\n        onShortcutTouchEnd(e){\n          this.touch.initiated = false;\n        },\n        handleScroll(pos){ //处理better-scroll滚动事件\n          // console.log(pos);\n          this.scrollY = pos.y; //实时获取better-scroll滚动Y轴的距离\n        },\n        refresh(){\n          this.$refs.listview.refresh();\n        },\n        _scrollTo(index){ //点击字母表跳转\n          if(!index && index !==0 ){ //点击内边距时,index会为null或者NAN，并且排除误伤index为0的时候\n            return\n          }\n          if(index<0){ //当往顶部上滑动时，例：往‘热’字上滑动\n             index = 0\n          }else if(index>this.listHeight.length - 2){ //当index大于最后一个字母的index值时，把index的值设为最后一个字母的index的值\n              index = this.listHeight.length -2 ;\n          }\n          // console.log(index);\n          //改变scrollY的值,为了触发watch scrollY的方法，得出this.currentIndex的值，让相应的字母高亮\n          this.scrollY = -this.listHeight[index];\n          this.$refs.listview.scrollToElement(this.$refs.listGroup[index])\n        },\n        _calculateHeight(){\n          //获取每个list-group的高度，例如获取“A”标题及其下歌手，这整块的高度\n          //用累加的方式获取每个list-group到顶端的高度\n          this.listHeight = [];\n          const list = this.$refs.listGroup;\n          let height = 0;\n          this.listHeight.push(height);\n          for (let i = 0; i < list.length; i++) {\n            let item = list[i];\n            height += item.clientHeight;\n            this.listHeight.push(height)\n          }\n          // console.log(this.listHeight); //[0,760,1030...]\n        }\n      }\n      ,\n      watch:{\n        //主要视图来源于外部传进来的data数据，而外部的data数据又是通过异步获取，\n        //要定位在li标签渲染之后才进行处理的话，用watch监视data值最好\n        data(){ //当data从无值到有值或者data发生变化时，获取每个list-group的高度\n          setTimeout(()=>{\n            this._calculateHeight();\n          },20);\n        },\n        scrollY(newY) { //比较scrollY的值和this.listHeight数组中的值，算出当前滑动到哪个字母歌手列表内\n          const listHeight = this.listHeight;\n          // 当滚动到顶部，newY>0\n          if (newY > 0) {\n            this.currentIndex = 0;\n            return\n          }\n          // 在中间部分滚动\n          for (let i = 0; i < listHeight.length-1; i++) {\n            let height1 = listHeight[i];\n            let height2 = listHeight[i + 1];\n            // console.log(-newY);\n            if (-newY >= height1 && -newY < height2) {\n              this.currentIndex = i;\n              // console.log(this.currentIndex);\n              this.diff = height2 + newY; //下限与滚动距离的差,newY本身就是负值，被误会了\n              // console.log(this.diff);\n              return\n            }\n          }\n          //当滚动到底部，且-newY大于最后一个元素的上限\n          this.currentIndex = listHeight.length - 2\n        },\n        diff(newVal) {\n          let fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0;\n          // console.log(fixedTop);\n          // console.log(this.fixedTop); //先undefined 然后很多0,性能优化,没必要一直translate3d(0,0,0)\n          if (this.fixedTop === fixedTop) {\n            return\n          }\n          this.fixedTop = fixedTop;\n          this.$refs.fixed.style.transform = `translate3d(0,${fixedTop}px,0)`\n        }\n      }\n    }\n\n</script>\n\n<style rel=\"stylesheet/stylus\" lang=\"stylus\" scoped>\n  @import \"~common/stylus/variable\"\n  .listview\n    position:relative\n    width:100%\n    height: 100%\n    overflow: hidden\n    background: $color-background\n    .list-group\n      padding-bottom: 30px\n      .list-group-title\n        height: 30px\n        line-height: 30px\n        padding-left: 20px\n        font-size: $font-size-small\n        color: $color-text-l\n        background: $color-highlight-background\n      .list-group-item\n        display: flex\n        align-items: center\n        padding: 20px 0 0 30px\n        .avatar\n          width: 50px\n          height: 50px\n          border-radius: 50%\n        .name\n          margin-left: 20px\n          color: $color-text-l\n          font-size: $font-size-medium\n    .list-shortcut\n      position: absolute\n      z-index: 30\n      right: 0\n      top: 50%\n      transform: translateY(-50%)\n      width: 20px\n      padding: 20px 0\n      border-radius: 10px\n      text-align: center\n      background: $color-background-d\n      font-family: Helvetica\n      .item\n        padding: 3px\n        line-height: 1\n        color: $color-text-l\n        font-size: $font-size-small\n        &.current\n          color: $color-theme\n    .list-fixed\n      position: absolute\n      top: 0\n      left: 0\n      width: 100%\n      .fixed-title\n        height: 30px\n        line-height: 30px\n        padding-left: 20px\n        font-size: $font-size-small\n        color: $color-text-l\n        background: $color-highlight-background\n    .loading-container\n      position: absolute\n      width: 100%\n      top: 50%\n      transform: translateY(-50%)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// listview.vue?13f65c68","<template>\n  <div class=\"singer\" ref=\"singer\">\n    <list-view @selectItem=\"selectSinger\" :data=\"singers\" ref=\"list\"></list-view>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import Singer from 'common/js/singer'\n  import ListView from 'base/listview/listview'\n  import { getSingerList } from \"api/singer\";\n  import { ERR_OK } from 'api/config'\n  import {mapMutations} from 'vuex'\n  import {playListMixin} from  'common/js/mixins'\n\n  const HOT_NAME = '热门';\n  const HOT_SINGER_LEN = 10;\n\n  export default { //ajax,jsonp,vuex 整理数据,传递数据，跳转页面\n    mixins:[playListMixin],\n    data(){\n      return {\n        singers:[]\n      }\n    },\n    components:{\n      ListView\n    },\n    created(){\n      this._getSingerList();\n    },\n    methods:{\n      handlePlayList(playList){\n        const bottom = playList.length>0 ? '60px' : '';\n        this.$refs.singer.style.bottom = bottom;\n        this.$refs.list.refresh();\n      },\n      selectSinger(singer){\n        this.$router.push({\n          path:`/singer/${singer.mid}`\n        });\n        this.setSinger(singer) //this.$store.commit('SET_SINGER',singer)\n      },\n      _getSingerList(){\n        getSingerList().then((res)=>{\n          if(res.code === ERR_OK){\n            this.singers = this._nomalizeSinger(res.data.list);\n          }\n        })\n      },\n      _nomalizeSinger(list){\n        let map = {\n          hot:{\n            title : HOT_NAME,\n            items:[]\n          }\n        };\n        list.forEach((item,index)=>{\n          if(index<HOT_SINGER_LEN){\n            map.hot.items.push(new Singer({\n                mid:item.Fsinger_mid,\n                name:item.Fsinger_name\n              })\n            )\n          }\n          const key = item.Findex; //'A','Z'\n          if(!map[key]){   //map['Z']\n            map[key] = {\n              title:key,\n              items:[]\n            }\n          }\n          map[key].items.push(new Singer({\n            mid:item.Fsinger_mid,\n            name:item.Fsinger_name\n          }));\n        });\n        // console.log(this.map);\n        //map:{'Z':{title:'Z',items:[{mid,name,avater}..{}]},'B':{..}...}\n        // 为了得到有序的对象,需要处理map\n        let hot =[];\n        let ret = [];\n        let re = /[a-zA-Z]/g;\n        for(let i in map){\n          let val = map[i];\n          if(val.title.match(re)){\n            ret.push(val)\n          }else if(val.title === HOT_NAME){\n            hot.push(val)\n          }\n        }\n        // hot [{title:'热门',items:[{}..{}]}]\n        //ret [{title:'Z',items:[{}..{}]}...] 有26个这样的对象\n        ret.sort((a,b)=>{\n          return a.title.charCodeAt(0) - b.title.charCodeAt(0)\n        });\n        return hot.concat(ret) //大数组,有27个对象\n      },\n      ...mapMutations({\n        setSinger:'SET_SINGER'\n      })\n\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .singer\n    position: fixed\n    top: 88px\n    bottom: 0\n    left:0\n    right:0\n</style>\n\n\n\n// WEBPACK FOOTER //\n// singer.vue?36cd9b24"],"sourceRoot":""}